// Creating the map object
var Map = L.map("map", {
  center: [36.156470, -86.788350],
  zoom: 11
});

// Adding the tile layer
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
}).addTo(Map);

// Use this link to get the GeoJSON data.
var link = "data/map.geojson";
// The function that will determine the color of a NAME_x based on the borough that it belongs to
function chooseColor(poverty) {
  if (poverty == 0) return "Wheat";
  else if (poverty < 2) return "Goldenrod";
  else if (poverty < 4) return "Peru";
  else if (poverty < 8) return "Chocolate";
  else if (poverty < 13) return "orange";
  else if (poverty < 20) return "SaddleBrown";
  else return "Maroon";
}

// Getting our GeoJSON data
d3.json(link).then(function(data) {
  // Creating a GeoJSON layer with the retrieved data
  L.geoJson(data, {
    // Styling each feature (in this case, a NAME_x)
    style: function(feature) {
      return {
        color: "white",
        // Call the chooseColor() function to decide which color to color our NAME_x. (The color is based on the borough.)
        fillColor: chooseColor(feature.properties.Poverty),
        fillOpacity: 0.5,
        weight: 3
      };
    },
    // This is called on each feature.
    onEachFeature: function(feature, layer) {
      // Set the mouse events to change the map styling.
      layer.on({
        // When a user's mouse cursor touches a map feature, the mouseover event calls this function, which makes that feature's opacity change to 90% so that it stands out.
        mouseover: function(event) {
          layer = event.target;
          layer.setStyle({
            fillOpacity: 0.9
          });
        },
        // When the cursor no longer hovers over a map feature (that is, when the mouseout event occurs), the feature's opacity reverts back to 50%.
        mouseout: function(event) {
          layer = event.target;
          layer.setStyle({
            fillOpacity: 0.5
          });
        },
        // When a feature (NAME_x) is clicked, it enlarges to fit the screen.
        click: function(event) {
          Map.fitBounds(event.target.getBounds());
        }
      });
      // Giving each feature a popup with information that's relevant to it
      layer.bindPopup("<h1>" + "Census Tract: " + feature.properties.NAME_x + "</h1> <hr> <h2>" + "Poverty Rate: " + feature.properties.Poverty + "% " +
      "<br>" + "Households: " + feature.properties.Households.toLocaleString("en-US") + "<br>" + "Average Income: " + 
      feature.properties.Mean.toLocaleString("en-US") + "<br>" + "Food Desert: " + feature.properties.Desert + "</h2>");

    }
  }).addTo(Map);
});
// Sample data (replace this with your actual data)
var locations = [
    {
        "name": "Publix Supermarket",
        "address": "1010 Dr Martin L King Jr Blvd",
        "latitude": 36.163321,
        "longitude": -86.789647,
        "rating": 3,
    },
    {
        "name": "Publix",
        "address": "4324 Harding Pike",
        "latitude": 36.126121,
        "longitude": -86.8462114,
        "rating": 4.5,
    },
    {
        "name": "Whole Foods - Broadway",
        "address": "1202 Broadway",
        "latitude": 36.156768,
        "longitude": -86.788061,
        "rating": 4.5,
    },
    {
        "name": "Publix",
        "address": "2223 8th Ave S",
        "latitude": 36.12885,
        "longitude": -86.77845,
        "rating": 3.5,
    },
    {
        "name": "Southernaire Market",
        "address": "150 3rd Ave S",
        "latitude": 36.15992236,
        "longitude": -86.77411836,
        "rating": 4,
    },
    {
        "name": "Publix",
        "address": "2324 Lebanon Pike",
        "latitude": 36.1690184,
        "longitude": -86.6838698,
        "rating": 4.5,
    },
    {
        "name": "Whole Foods Market",
        "address": "1202 Broadway",
        "latitude": 36.1563,
        "longitude": -86.7886,
        "rating": 3.5,
    },
    {
        "name": "Walmart Supercenter",
        "address": "2421 Powell Ave",
        "latitude": 36.11097,
        "longitude": -86.76937,
        "rating": 2,
    },
    {
        "name": "Trader Joe's",
        "address": "3909 Hillsboro Pike",
        "latitude": 36.1050899,
        "longitude": -86.81528,
        "rating": 4.5,
    },
    {
        "name": "Kroger",
        "address": "2131 Abbott Martin Rd",
        "latitude": 36.10567995,
        "longitude": -86.8184403,
        "rating": 3,
    },
    {
        "name": "Kroger",
        "address": "2284 Murfreesboro Pike",
        "latitude": 36.08844,
        "longitude": -86.64773,
        "rating": 2,
    },
    {
        "name": "Kroger",
        "address": "2201 21st Ave. S",
        "latitude": 36.130146,
        "longitude": -86.802482,
        "rating": 2,
    },
    {
        "name": "Piggly Wiggly",
        "address": "2317 Dickerson Pike",
        "latitude": 36.20775223,
        "longitude": -86.76703644,
        "rating": 2,
    },
    {
        "name": "Kroger",
        "address": "800 Monroe St",
        "latitude": 36.175772,
        "longitude": -86.794253,
        "rating": 2,
    },
    {
        "name": "Publix Super Markets",
        "address": "8028 Highway 100",
        "latitude": 36.04707269,
        "longitude": -86.95218387,
        "rating": 3.5,
    },
    {
        "name": "Kroger",
        "address": "2615 Franklin Pike",
        "latitude": 36.11994449,
        "longitude": -86.77717958,
        "rating": 2.5,
    },
    {
        "name": "Smokin Oaks Organic Farms Market",
        "address": "2116 8th Ave S",
        "latitude": 36.13129,
        "longitude": -86.7784,
        "rating": 5,
    },
    {
        "name": "The Fresh Market",
        "address": "235 Franklin Road",
        "latitude": 36.03118,
        "longitude": -86.791293,
        "rating": 3.5,
    },
    {
        "name": "The Produce Place",
        "address": "4000 Murphy Rd",
        "latitude": 36.1410399,
        "longitude": -86.83327,
        "rating": 4,
    },
    {
        "name": "The Turnip Truck - Gulch",
        "address": "321 12th Ave S",
        "latitude": 36.15275048,
        "longitude": -86.78549831,
        "rating": 4,
    },
    {
        "name": "Patel Brothers",
        "address": "420 Harding Pl",
        "latitude": 36.0815086,
        "longitude": -86.7276,
        "rating": 4,
    },
    {
        "name": "The BE Hive",
        "address": "2414 Gallatin Ave",
        "latitude": 36.1948866,
        "longitude": -86.743203,
        "rating": 4.5,
    },
    {
        "name": "Sprouts Farmers Market",
        "address": "7620 Highway 70 S",
        "latitude": 36.07996937,
        "longitude": -86.94907808,
        "rating": 3.5,
    },
    {
        "name": "Publix",
        "address": "1111 Gallatin Ave",
        "latitude": 36.1902481,
        "longitude": -86.7451243,
        "rating": 3.5,
    },
    {
        "name": "Publix Super Market- Nashville",
        "address": "6614 Charlotte Pike",
        "latitude": 36.140221,
        "longitude": -86.882913,
        "rating": 4,
    },
    {
        "name": "Publix Super Markets",
        "address": "101 Creekside Crossing",
        "latitude": 36.036936,
        "longitude": -86.798796,
        "rating": 4,
    },
    {
        "name": "Walmart Neighborhood Market",
        "address": "5531 Edmondson Pike",
        "latitude": 36.042188,
        "longitude": -86.745583,
        "rating": 4,
    },
    {
        "name": "Kroger",
        "address": "143 Mcgavock Pike",
        "latitude": 36.170583,
        "longitude": -86.678616,
        "rating": 3,
    },
    {
        "name": "ALDI",
        "address": "615 Gallatin Ave",
        "latitude": 36.183271,
        "longitude": -86.747552,
          "rating": 3,
    },
    {
        "name": "Kroger",
        "address": "305 Independence Square",
        "latitude": 35.931872,
        "longitude": -86.877315,
        "rating": 3,
    },
    {
        "name": "Uptown Fruit Market",
        "address": "1431 Dickerson Pike",
        "latitude": 36.199885,
        "longitude": -86.769471,
        "rating": 5,
    },
    {
        "name": "Tony's Food Land",
        "address": "5529 Clarksville Pike",
        "latitude": 36.28022,
        "longitude": -86.8769989,
        "rating": 4,
    },
    {
        "name": "The Turnip Truck - East Nashville",
        "address": "701 Woodland St",
        "latitude": 36.1738272,
        "longitude": -86.7600285,
        "rating": 3.5,
    },
    {
        "name": "Osborne's Bi-Rite",
        "address": "3116 Belmont Blvd",
        "latitude": 36.1179314,
        "longitude": -86.7966309,
        "rating": 4.5,
    },
    {
        "name": "Delta Marketplace",
        "address": "2800 Opryland Dr",
        "latitude": 36.21145686,
        "longitude": -86.69459007,
        "rating": 3,
    },
    {
        "name": "Whole Foods Market",
        "address": "4021 Hillsboro Pike",
        "latitude": 36.103429,
        "longitude": -86.8190653,
        "rating": 4,
    },
    {
        "name": "Savi Urban Market",
        "address": "415 Church St",
        "latitude": 36.16345493,
        "longitude": -86.77942,
        "rating": 3,
    },
    {
        "name": "Kroger",
        "address": "3410 Gallatin Pike",
        "latitude": 36.21015369,
        "longitude": -86.7316648,
        "rating": 2.5,
    },
    {
        "name": "Sperry's Mercantile",
        "address": "5107 Harding Pike",
        "latitude": 36.10482167,
        "longitude": -86.86816833,
        "rating": 5,
    },
    {
        "name": "Silo Market",
        "address": "5500 Centennial Blvd",
        "latitude": 36.16542,
        "longitude": -86.85413,
        "rating": 4.5,
    },
    {
        "name": "Kroger",
        "address": "61 E Thompson Ln",
        "latitude": 36.11075,
        "longitude": -86.72559,
        "rating": 2,
    },
    {
        "name": "Trader Joe's",
        "address": "90 White Bridge Rd",
        "latitude": 36.1307261,
        "longitude": -86.852227,
        "rating": 4.5,
    },
    {
        "name": "La Hacienda Market & Bakery",
        "address": "2617 Nolensville Pike",
        "latitude": 36.1161903,
        "longitude": -86.7480597,
        "rating": 4,
    },
    {
        "name": "Publix Super Markets",
        "address": "15544 Old Hickory Blvd",
        "latitude": 36.04086,
        "longitude": -86.74167,
        "rating": 4,
    },
    {
        "name": "ALDI",
        "address": "3758 Nolensville Pike",
        "latitude": 36.09028738,
        "longitude": -86.7323177,
        "rating": 4,
    },
    {
        "name": "Kroger",
        "address": "3410 Gallatin Pike",
        "latitude": 36.210158,
        "longitude": -86.732448,
        "rating": 2,
    },
    {
        "name": "Whole Foods Market",
        "address": "1566 W McEwen Dr",
        "latitude": 35.934445,
        "longitude": -86.824652,
        "rating": 3.5,
    },
    {
        "name": "Garden Fresh Food Market",
        "address": "800 Madison Sq",
        "latitude": 36.255471,
        "longitude": -86.716399,
        "rating": 4.5,
    },
    {
        "name": "Walmart Supercenter",
        "address": "2232 Gallatin Pike N",
        "latitude": 36.30846931,
        "longitude": -86.68660317,
        "rating": 2,
    },
    {
        "name": "Kroger",
        "address": "7087 Highway 70 S",
        "latitude": 36.07364,
        "longitude": -86.91986,
        "rating": 3.5,
    },
    {
        "name": "Publix Super Markets",
        "address": "460 Long Hollow Pike",
        "latitude": 36.33144379,
        "longitude": -86.69896698,
        "rating": 3.5,
    },
    {
        "name": "Food Lion",
        "address": "3636 Bell Rd",
        "latitude": 36.1506119,
        "longitude": -86.6268234,
        "rating": 2.5,
    },
    {
        "name": "Trader Joe's",
        "address": "545 Cool Springs Blvd",
        "latitude": 35.94926556,
        "longitude": -86.82177297,
        "rating": 4,
    },
    {
        "name": "Kroger",
        "address": "4560 Harding Pike",
        "latitude": 36.1232988,
        "longitude": -86.8501592,
        "rating": 3,
    },
    {
        "name": "Walmart Supercenter",
        "address": "3458 Dickerson Pike",
        "latitude": 36.24436766,
        "longitude": -86.76291,
        "rating": 2,
    },
    {
        "name": "Madison Inglewood Market",
        "address": "4702 Gallatin Pike",
        "latitude": 36.23035812,
        "longitude": -86.72440338,
        "rating": 4.5,
    },
    {
        "name": "Publix",
        "address": "665 S Mount Juliet Rd",
        "latitude": 36.1606784,
        "longitude": -86.5152176,
        "rating": 4,
    },
    {
        "name": "Kroger",
        "address": "210 Franklin Rd.",
        "latitude": 36.031936,
        "longitude": -86.787412,
        "rating": 2.5,
    },
    {
        "name": "The LoCal Distro",
        "address": "614 Garfield St",
        "latitude": 36.18143,
        "longitude": -86.795,
        "rating": 4.5,
    },
    {
        "name": "Piggly Wiggly",
        "address": "1439 Robinson Rd",
        "latitude": 36.2560844,
        "longitude": -86.6541061,
        "rating": 3.5,
    },
    {
        "name": "4 Way Market",
        "address": "1401 Fatherland St",
        "latitude": 36.1740112,
        "longitude": -86.7459793,
        "rating": 3,
    },
    {
        "name": "Kroger",
        "address": "401 S Mount Juliet Rd",
        "latitude": 36.16480297,
        "longitude": -86.51197688,
        "rating": 3,
    },
    {
        "name": "Kroger",
        "address": "5705 Charlotte Pike",
        "latitude": 36.148753,
        "longitude": -86.860293,
        "rating": 2,
    },
    {
        "name": "Sulav International Market",
        "address": "4647 Nolensville Pike",
        "latitude": 36.068604,
        "longitude": -86.72039,
        "rating": 4.5,
    },
    {
        "name": "Walmart Supercenter",
        "address": "204 N Anderson Ln",
        "latitude": 36.32278,
        "longitude": -86.59537,
        "rating": 2,
    },
    {
        "name": "Houston Meat & Produce",
        "address": "3930 N Mount Juliet Rd",
        "latitude": 36.2250786,
        "longitude": -86.5150375,
        "rating": 4.5,
    },
    {
        "name": "Publix at Bowie Commons",
        "address": "7014 City Center Way",
        "latitude": 35.97505398,
        "longitude": -87.12930612,
        "rating": 4.5,
    },
    {
        "name": "Rosie's Market",
        "address": "3900 Charlotte Ave",
        "latitude": 36.15275192,
        "longitude": -86.83343506,
        "rating": 5,
    },
    {
        "name": "Porter Road Butcher",
        "address": "501 Gallatin Ave",
        "latitude": 36.1820737,
        "longitude": -86.7489769,
        "rating": 4,
    },
    {
        "name": "Compton's Foodland",
        "address": "2808 Old Smith Springs Rd",
        "latitude": 36.08907,
        "longitude": -86.6095481,
        "rating": 3.5,
    },
    {
        "name": "Kroger",
        "address": "2449 Old Fort Pkwy",
        "latitude": 35.84367731,
        "longitude": -86.44189719,
        "rating": 3,
    },
    {
        "name": "Kroger",
        "address": "5544 Old Hickory Blvd",
        "latitude": 36.1817524,
        "longitude": -86.604877,
        "rating": 2.5,
    },
    {
        "name": "Publix Super Markets",
        "address": "3566 Murfreesboro Pike",
        "latitude": 36.053478,
        "longitude": -86.614923,
        "rating": 4,
    },
    {
        "name": "H.G. Hill Food Store",
        "address": "2498 Highway 49 E",
        "latitude": 36.39732827,
        "longitude": -87.031664,
        "rating": 3.5,
    },
    {
        "name": "Publix Supermarkets",
        "address": "2020 Fieldstone Pkwy",
        "latitude": 35.96424,
        "longitude": -86.88286,
        "rating": 3.5,
    },
    {
        "name": "United Grocery Outlet",
        "address": "117 SE Broad St",
        "latitude": 35.8420144,
        "longitude": -86.39069498,
        "rating": 3.5,
    },
    {
        "name": "Soberdough",
        "address": "5515 Edmondson Pike",
        "latitude": 36.04355621,
        "longitude": -86.74511719,
        "rating": 5,
    },
    {
        "name": "Walmart Neighborhood Market",
        "address": "1153 Fortress Blvd",
        "latitude": 35.86710495,
        "longitude": -86.46458551,
        "rating": 3,
    },
    {
        "name": "Swetts Market",
        "address": "702 28th Ave N",
        "latitude": 36.15903,
        "longitude": -86.8182999,
        "rating": 3,
    },
    {
        "name": "Publix Super Markets",
        "address": "10638 Concord Rd",
        "latitude": 35.9972687,
        "longitude": -86.6921082,
        "rating": 3.5,
    },
    {
        "name": "Walmart Supercenter",
        "address": "7044 Charlotte Pike",
        "latitude": 36.13179059,
        "longitude": -86.90750187,
        "rating": 2,
    },
    {
        "name": "Kroger",
        "address": "5319 Mount View Rd",
        "latitude": 36.04945966,
        "longitude": -86.64730111,
        "rating": 2,
    },
    {
        "name": "Publix Super Markets",
        "address": "8105 Moores Ln",
        "latitude": 35.96355913,
        "longitude": -86.80242176,
        "rating": 4,
    },
    {
        "name": "Osborne Bi-Rite",
        "address": "3302 Nolensville Pike",
        "latitude": 36.1014328,
        "longitude": -86.73984528,
        "rating": 3.5,
    },
    {
        "name": "H.G. Hill Market",
        "address": "200 W Broadway",
        "latitude": 36.3895493,
        "longitude": -86.4506226,
        "rating": 3.5,
    },
    {
        "name": "ALDI",
        "address": "405 American Rd",
        "latitude": 36.14513,
        "longitude": -86.87388,
        "rating": 4,
    },
    {
        "name": "Kroger",
        "address": "5713 Edmondson Pike",
        "latitude": 36.039176,
        "longitude": -86.745124,
        "rating": 2.5,
    },
    {
        "name": "Walmart Supercenter",
        "address": "570 Enon Springs Rd E",
        "latitude": 35.97095,
        "longitude": -86.4958,
        "rating": 2,
    },
    {
        "name": "Lawrence Foods",
        "address": "134 W Kingston Springs Rd",
        "latitude": 36.0873599,
        "longitude": -87.10489,
        "rating": 2.5,
    },
    {
        "name": "Dollar General",
        "address": "1510 Branch St",
        "latitude": 36.19438736,
        "longitude": -86.72641731,
        "rating": 4.5,
    },
    {
        "name": "Walmart Neighborhood Market",
        "address": "109 Gallatin Pike N",
        "latitude": 36.2639814,
        "longitude": -86.7140176,
        "rating": 2.5,
    },
    {
        "name": "Sprouts Farmers Market",
        "address": "1010 Murfreesboro Rd",
        "latitude": 35.91554497,
        "longitude": -86.83851,
        "rating": 3.5,
    },
    {
        "name": "Publix Super Markets",
        "address": "110 Indian Lake Blvd",
        "latitude": 36.30975,
        "longitude": -86.60486,
        "rating": 3.5,
    },
    {
        "name": "Rice's Country Hams",
        "address": "12217 Lebanon Rd",
        "latitude": 36.23047538,
        "longitude": -86.5310964,
        "rating": 4,
    },
    {
        "name": "Granny White Market",
        "address": "5301 Granny White Pike",
        "latitude": 36.065186,
        "longitude": -86.813318,
        "rating": 2.5,
    },
    {
        "name": "ALDI",
        "address": "1911 Ransom Pl",
        "latitude": 36.0881174,
        "longitude": -86.65080772,
        "rating": 4.5,
    },
    {
        "name": "Chico's Market",
        "address": "859 Briley Pkwy",
        "latitude": 36.1366234,
        "longitude": -86.6995087,
        "rating": 4,
    },
    {
        "name": "Kroger",
        "address": "200 Gallatin Pike S",
        "latitude": 36.2614937,
        "longitude": -86.7126312,
        "rating": 2.5,
    },
    {
        "name": "Walmart Supercenter",
        "address": "5511 Murfreesboro Rd",
        "latitude": 36.014739,
        "longitude": -86.545588,
        "rating": 2,
    },
    {
        "name": "ALDI",
        "address": "405 American Rd",
        "latitude": 36.14491153,
        "longitude": -86.87350139,
        "rating": 4,
    },
    {
        "name": "Publix Super Markets",
        "address": "1483 Nashville Pike",
        "latitude": 36.359651,
        "longitude": -86.495761,
        "rating": 4,
    },
    {
        "name": "GFS Gordon Food Service",
        "address": "465 N Thompson Ln",
        "latitude": 35.85490979,
        "longitude": -86.43043779,
        "rating": 4.5,
    },
    {
        "name": "Kroger",
        "address": "123 Northcreek Blvd",
        "latitude": 36.3264798,
        "longitude": -86.698614,
        "rating": 2.5,
    },
    {
        "name": "GFS Marketplace",
        "address": "317 Bluebird",
        "latitude": 36.30066,
        "longitude": -86.70224,
        "rating": 3.5,
    },
    {
        "name": "Los Altos Market",
        "address": "621 Hwy 76",
        "latitude": 36.4694503,
        "longitude": -86.6724398,
        "rating": 4.5,
    },
    {
        "name": "Lee's Market",
        "address": "310 17th Ave N",
        "latitude": 36.15752,
        "longitude": -86.797,
        "rating": 1,
    },
    {
        "name": "Supermercado y Carniceria La Vaquita",
        "address": "2704 Nolensville Pike",
        "latitude": 36.11422729,
        "longitude": -86.74641418,
        "rating": 3.5,
    },
    {
        "name": "Publix Super Market at Newman's Crossing",
        "address": "1931 Long Hollow Pike",
        "latitude": 36.38176819,
        "longitude": -86.55105223,
        "rating": 5,
    },
    {
        "name": "Publix Super Markets",
        "address": "11207 Lebanon Rd",
        "latitude": 36.23279532,
        "longitude": -86.51440879,
        "rating": 4,
    },
    {
        "name": "Publix Super Markets",
        "address": "1640 Lee Victory Pkwy",
        "latitude": 35.9412804,
        "longitude": -86.5275269,
        "rating": 4,
    },
    {
        "name": "Weiss Drive-In Market",
        "address": "826 Main St",
        "latitude": 36.1757126,
        "longitude": -86.7575302,
        "rating": 2.5,
    },
    {
        "name": "Food Lion",
        "address": "936 Richards Rd",
        "latitude": 36.06898293,
        "longitude": -86.68144628,
        "rating": 3,
    },
    {
        "name": "Community Market",
        "address": "614 Garfield St",
        "latitude": 36.1814308,
        "longitude": -86.7949982,
        "rating": 5,
    },
    {
        "name": "Publix Super Markets",
        "address": "4670 Lebanon Pike",
        "latitude": 36.216472,
        "longitude": -86.592376,
        "rating": 4,
    },
    {
        "name": "Kroger",
        "address": "5145 Murfreesboro Rd",
        "latitude": 36.02207,
        "longitude": -86.57606,
        "rating": 1,
    },
    {
        "name": "Food Lion",
        "address": "471 E Main St",
        "latitude": 36.39008849,
        "longitude": -86.43608547,
        "rating": 3.5,
    },
    {
        "name": "Publix Super Markets",
        "address": "661 President Pl",
        "latitude": 35.97997536,
        "longitude": -86.5550344,
        "rating": 3.5,
    },
    {
        "name": "Laverte's Market",
        "address": "1313 51st Ave N",
        "latitude": 36.16172,
        "longitude": -86.84944,
        "rating": 5,
    },
    {
        "name": "Kroger",
        "address": "8141 State Highway 100",
        "latitude": 36.04343,
        "longitude": -86.95669,
        "rating": 4,
    },
    {
        "name": "Supermarket Foodtown",
        "address": "5312 Cane Ridge Rd",
        "latitude": 36.0431537,
        "longitude": -86.6612379,
        "rating": 4,
    },
    {
        "name": "Finch's Country Store",
        "address": "438 Highway 70",
        "latitude": 36.10006332,
        "longitude": -87.04904175,
        "rating": 4.5,
    },
    {
        "name": "Kroger",
        "address": "845 Nashville Pike",
        "latitude": 36.377945,
        "longitude": -86.46546,
        "rating": 2,
    },
    {
        "name": "Kroger",
        "address": "6690 Nolensville Rd",
        "latitude": 36.000358,
        "longitude": -86.691232,
        "rating": 2,
    },
    {
        "name": "Walmart Supercenter",
        "address": "300 Pleasant Grove Rd",
        "latitude": 36.17878079,
        "longitude": -86.51964694,
        "rating": 3,
    },
    {
        "name": "Kroger",
        "address": "463 Sam Ridley Pkwy W",
        "latitude": 35.9832527,
        "longitude": -86.55117152,
        "rating": 3,
    },
    {
        "name": "Publix Super Markets",
        "address": "1731 S Rutherford Blvd",
        "latitude": 35.81308,
        "longitude": -86.36834,
        "rating": 4,
    },
    {
        "name": "Walmart Supercenter",
        "address": "4040 Nolensville Pike",
        "latitude": 36.08248471,
        "longitude": -86.725605,
        "rating": 1.5,
    },
    {
        "name": "Publix",
        "address": "1021 Riverside Dr",
        "latitude": 35.912647,
        "longitude": -86.82904,
        "rating": 4,
    },
    {
        "name": "Walmart Supercenter",
        "address": "1626 Highway 12 S",
        "latitude": 36.247874,
        "longitude": -87.032526,
        "rating": 2.5,
    },
    {
        "name": "DG Market + pOpshelf",
        "address": "240 Ren Mar Dr",
        "latitude": 36.3966293,
        "longitude": -87.028717,
        "rating": 3,
    },
    {
        "name": "Walmart Supercenter",
        "address": "1112 Nashville Pike",
        "latitude": 36.37697522,
        "longitude": -86.47590282,
        "rating": 1.5,
    },
    {
        "name": "Walmart Supercenter",
        "address": "7100 Hopgood Rd",
        "latitude": 35.96302,
        "longitude": -87.14002,
        "rating": 2.5,
    },
    {
        "name": "Tim's Market",
        "address": "1535 Columbia Ave",
        "latitude": 35.9084511,
        "longitude": -86.8743896,
        "rating": 4,
    },
    {
        "name": "A & H Mart",
        "address": "1104 Murfreesboro Pike",
        "latitude": 36.1265729,
        "longitude": -86.7105886,
        "rating": 4.5,
    },
    {
        "name": "Sprouts Farmers Market",
        "address": "143 Wendelwood Dr",
        "latitude": 35.8803535,
        "longitude": -86.38656583,
        "rating": 4,
    },
    {
        "name": "Garibaldi Market",
        "address": "2402 Dickerson Pike",
        "latitude": 36.208619,
        "longitude": -86.76775,
        "rating": 5,
    },
    {
        "name": "Walmart Supercenter",
        "address": "5824 Nolensville Pike",
        "latitude": 36.04194991,
        "longitude": -86.70918017,
        "rating": 2,
    },
    {
        "name": "Cash Saver",
        "address": "213 West Main St",
        "latitude": 36.30397,
        "longitude": -86.61878,
        "rating": 2.5,
    },
    {
        "name": "Kroger Marketplace",
        "address": "2011 Nashville Pike",
        "latitude": 36.34414,
        "longitude": -86.52595,
        "rating": 3,
    },
    {
        "name": "Cash Saver",
        "address": "795 South Main St",
        "latitude": 36.2808747,
        "longitude": -87.0699058,
        "rating": 2.5,
    },
    {
        "name": "Cantrell Market",
        "address": "600 Rivergate Pkwy",
        "latitude": 36.3126984,
        "longitude": -86.7065735,
        "rating": 5,
    },
    {
        "name": "Save A Lot",
        "address": "1113 Murfreesboro Pike",
        "latitude": 36.1263809,
        "longitude": -86.7110214,
        "rating": 3,
    },
    {
        "name": "Merchant's Mart",
        "address": "1800 Elm Hill Pike",
        "latitude": 36.146157,
        "longitude": -86.706186,
        "rating": 4,
    },
    {
        "name": "Crossroads IGA",
        "address": "2127 US Hwy 41",
        "latitude": 36.40973779,
        "longitude": -86.78696971,
        "rating": 5,
    },
    {
        "name": "ALDI",
        "address": "7035 Highway 70 S",
        "latitude": 36.07504162,
        "longitude": -86.91764333,
        "rating": 5,
    },
    {
        "name": "Publix - Lebanon",
        "address": "445 Hwy 109 N",
        "latitude": 36.19338622,
        "longitude": -86.40911877,
        "rating": 5,
    },
    {
        "name": "Reed's Produce & Garden Center",
        "address": "342 4th Ave N",
        "latitude": 35.9290085,
        "longitude": -86.8731308,
        "rating": 5,
    },
    {
        "name": "Trinity Lane Market",
        "address": "1905 Meridian St",
        "latitude": 36.20542145,
        "longitude": -86.76560211,
        "rating": 3,
    },
    {
        "name": "Kroger",
        "address": "1203 Murfreesboro Road",
        "latitude": 35.91722,
        "longitude": -86.82924,
        "rating": 2.5,
    },
    {
        "name": "DG Market + pOpshelf",
        "address": "5445 Nolensville Rd",
        "latitude": 36.049533,
        "longitude": -86.715563,
        "rating": 3.5,
    },
    {
        "name": "Alrayan Market & Restaurant",
        "address": "1107 Memorial Blvd 107",
        "latitude": 35.858521,
        "longitude": -86.39313,
        "rating": 4.5,
    },
    {
        "name": "Publix",
        "address": "3710 Annex Ave",
        "latitude": 36.13967754,
        "longitude": -86.88212842,
        "rating": 2,
    },
    {
        "name": "Food Lion Inc Store Nbr 693",
        "address": "314 Frey St",
        "latitude": 36.296553,
        "longitude": -87.0494273,
        "rating": 2.5,
    },
    {
        "name": "Kroger",
        "address": "4432 Veterans Pkwy",
        "latitude": 35.84438883,
        "longitude": -86.4931874,
        "rating": 2.5,
    },
    {
        "name": "Kroger",
        "address": "411 Whitman Road",
        "latitude": 35.92894,
        "longitude": -86.9184,
        "rating": 2.5,
    },
    {
        "name": "Publix Super Markets",
        "address": "5021 Hughes Crossing",
        "latitude": 35.86381542,
        "longitude": -86.84305138,
        "rating": 4,
    },
    {
        "name": "Kroger",
        "address": "3054 Columbia Ave",
        "latitude": 35.8936615,
        "longitude": -86.8807068,
        "rating": 2.5,
    },
    {
        "name": "Almaville Market",
        "address": "7586 Almaville Rd",
        "latitude": 35.8699417,
        "longitude": -86.5797806,
        "rating": 5,
    },
    {
        "name": "Huff's Grocery & Deli",
        "address": "5452 Carters Creek Pike",
        "latitude": 35.81232,
        "longitude": -86.98352,
        "rating": 5,
    },
    {
        "name": "Dollar General",
        "address": "4977 Florence Rd",
        "latitude": 35.924518,
        "longitude": -86.469585,
        "rating": 1,
    },
    {
        "name": "Mexicali Market",
        "address": "3922 Lebanon Pike",
        "latitude": 36.1943588,
        "longitude": -86.6227417,
        "rating": 4,
    },
    {
        "name": "ALDI",
        "address": "4751 Lebanon Pike",
        "latitude": 36.21426917,
        "longitude": -86.59173511,
        "rating": 4.5,
    },
    {
        "name": "DG Market + pOpshelf",
        "address": "2907 Highway 31 W",
        "latitude": 36.46166611,
        "longitude": -86.66417694,
        "rating": 1,
    },
    {
        "name": "Highway 100 Market & Deli",
        "address": "8993 Hwy 100",
        "latitude": 36.02526,
        "longitude": -87.00857,
        "rating": 5,
    },
    {
        "name": "Glenn's Grocery",
        "address": "4778 Peytonsville Rd",
        "latitude": 35.81661445,
        "longitude": -86.77458505,
        "rating": 1.5,
    },
    {
        "name": "Kroger",
        "address": "237 E Main St",
        "latitude": 36.307621,
        "longitude": -86.600732,
        "rating": 3,
    },
    {
        "name": "Publix",
        "address": "2650 St Andrews Dr",
        "latitude": 35.81241957,
        "longitude": -86.45765966,
        "rating": 4.5,
    },
    {
        "name": "Litton's Corner Market",
        "address": "2830 Gallatin Pike",
        "latitude": 36.20219421,
        "longitude": -86.73878479,
        "rating": 1,
    },
    {
        "name": "Elysian Market",
        "address": "3815 Nolensville Pike",
        "latitude": 36.086917,
        "longitude": -86.730796,
        "rating": 4,
    },
    {
        "name": "Kroger",
        "address": "5771 Nolensville Road",
        "latitude": 36.04625,
        "longitude": -86.7135,
        "rating": 2,
    },
    {
        "name": "Food Lion",
        "address": "11459 Old Nashville Hwy",
        "latitude": 35.95704,
        "longitude": -86.51947,
        "rating": 4.5,
    },
    {
        "name": "Kroger Fuel Center",
        "address": "150 McGavock Pike",
        "latitude": 36.1711884,
        "longitude": -86.6800995,
        "rating": 4.5,
    },
    {
        "name": "Kroger",
        "address": "4400 Lebanon Rd",
        "latitude": 36.2377777,
        "longitude": -86.3957062,
        "rating": 1,
    },
    {
        "name": "ALDI",
        "address": "315 N Mt Juliet Rd",
        "latitude": 36.1761673,
        "longitude": -86.511774,
        "rating": 4.5,
    },
    {
        "name": "Walmart Supercenter",
        "address": "3600 Mallory Ln",
        "latitude": 35.93928296,
        "longitude": -86.82015264,
        "rating": 2,
    },
    {
        "name": "Nourish Christian Marketplace",
        "address": "846 Conference Dr",
        "latitude": 36.31836,
        "longitude": -86.7013,
        "rating": 5,
    },
    {
        "name": "Walmart Supercenter",
        "address": "2000 Old Fort Pkwy",
        "latitude": 35.85006373,
        "longitude": -86.42808597,
        "rating": 2,
    },
    {
        "name": "Sombouns Asian Market",
        "address": "1722 S Rutherford Blvd",
        "latitude": 35.81182861,
        "longitude": -86.36723328,
        "rating": 4,
    },
    {
        "name": "Los Primos",
        "address": "1203 Murfreesboro Rd",
        "latitude": 35.91712813,
        "longitude": -86.8316824,
        "rating": 4.5,
    },
    {
        "name": "Publix Super Markets",
        "address": "1400 Liberty Pike",
        "latitude": 35.9242592,
        "longitude": -86.7955017,
        "rating": 3.5,
    },
    {
        "name": "Twice Daily",
        "address": "222 W New Hwy 96",
        "latitude": 35.924268,
        "longitude": -86.878711,
        "rating": 3.5,
    },
    {
        "name": "Stop & Shop",
        "address": "5100 Indiana Ave",
        "latitude": 36.1566048,
        "longitude": -86.848999,
        "rating": 1,
    },
    {
        "name": "Lewis Market",
        "latitude": 36.05428,
        "longitude": -86.65168515,
        "rating": 5,
    },
    {
        "name": "Barnes Produce",
        "address": "900 Rosa L Parks Blvd",
        "latitude": 36.1700134,
        "longitude": -86.7891159,
        "rating": 5,
    },
    {
        "name": "Dollar General",
        "address": "316 Highway 70",
        "latitude": 36.096915,
        "longitude": -87.044094,
        "rating": 5,
    },
    {
        "name": "Kroger",
        "address": "1776 W Northfield Blvd",
        "latitude": 35.871395,
        "longitude": -86.415624,
        "rating": 2,
    },
    {
        "name": "ALDI",
        "address": "209 S Royal Oaks Blvd",
        "latitude": 35.914398,
        "longitude": -86.832833,
        "rating": 4.5,
    },
    {
        "name": "Walmart Supercenter",
        "address": "2012 Memorial Blvd",
        "latitude": 35.878349,
        "longitude": -86.382799,
        "rating": 1,
    },
    {
        "name": "ALDI",
        "address": "571 Village Green Dr",
        "latitude": 36.37818455,
        "longitude": -86.47454843,
        "rating": 5,
    },
    {
        "name": "India Bazaar",
        "address": "330 Mayfield Dr",
        "latitude": 35.95441922,
        "longitude": -86.80210741,
        "rating": 4,
    },
    {
        "name": "Nashville Delivers",
        "address": "6591 Bluff Rd",
        "latitude": 36.002397,
        "longitude": -86.7023814,
        "rating": 3.5,
    },
    {
        "name": "Indian-Mart",
        "address": "707 Rivergate Pkwy",
        "latitude": 36.305809,
        "longitude": -86.7052765,
        "rating": 4,
    },
   {
        "name": "Quick Stop Mercado",
        "address": "760 E North Field Bivd",
        "latitude": 35.8680595,
        "longitude": -86.37407009,
        "rating": 5,
    },
    {
        "name": "Worsham's Store",
        "address": "2030 New Hope Rd",
        "latitude": 36.37343158,
        "longitude": -86.61666071,
        "rating": 5,
    },
    {
        "name": "Community Markets",
        "address": "336 E Trinity Ln",
        "latitude": 36.2051,
        "longitude": -86.76186,
        "rating": 4,
    },
    {
        "name": "Kroger",
        "address": "1950 Madison Square Blvd",
        "latitude": 36.022001,
        "longitude": -86.576123,
        "rating": 5,
    },
    {
        "name": "ALDI",
        "address": "135 S Gallatin Pike",
        "latitude": 36.26166962,
        "longitude": -86.71151432,
        "rating": 3.5,
    },
    {
        "name": "Kroger",
        "address": "1010 Glenbrook Way",
        "latitude": 36.333502,
        "longitude": -86.621105,
        "rating": 2.5,
    },
    {
        "name": "El Camino Market",
        "address": "5911 Morrow Rd",
        "latitude": 36.16193,
        "longitude": -86.86118,
        "rating": 4,
    },
    {
        "name": "Smith's Neighborhood Supermarket",
        "address": "5154 Murfreesboro Rd",
        "latitude": 36.01959,
        "longitude": -86.57663,
        "rating": 4,
    },
    {
        "name": "Kroger",
        "address": "4400 Lebanon Pike",
        "latitude": 36.21635496,
        "longitude": -86.60399747,
        "rating": 2.5,
    },
    {
        "name": "Publix",
        "address": "3415 Memorial Blvd",
        "latitude": 35.910708,
        "longitude": -86.3839249,
        "rating": 4,
    },
    {
        "name": "Kroger",
        "address": "4120 N Mount Juliet Rd",
        "latitude": 36.22941275,
        "longitude": -86.51497665,
        "rating": 2.5,
    },
    {
        "name": "ALDI",
        "address": "1701 Mallory Ln",
        "latitude": 35.966032,
        "longitude": -86.814922,
        "rating": 4.5,
    },
    {
        "name": "Kroger",
        "address": "595 Hillsboro Rd",
        "latitude": 35.9328962,
        "longitude": -86.8787524,
        "rating": 2,
    },
    {
        "name": "Bach Thao Market",
        "address": "3747 Annex Ave",
        "latitude": 36.14107895,
        "longitude": -86.88400269,
        "rating": 4,
    },
    {
        "name": "Dollar General",
        "address": "1118 Dickerson Pike",
        "latitude": 36.191566,
        "longitude": -86.773177,
        "rating": 3,
    },
    {
        "name": "Walmart Supercenter",
        "address": "3035 Hamilton Church Rd",
        "latitude": 36.06098998,
        "longitude": -86.62913449,
        "rating": 1.5,
    },
    {
        "name": "Super Latina Market",
        "address": "14911 Old Hickory Blvd",
        "latitude": 36.04488884,
        "longitude": -86.70329721,
        "rating": 3.5,
    },
    {
        "name": "Publix",
        "address": "4175 Franklin Rd",
        "latitude": 35.84204669,
        "longitude": -86.47189356,
        "rating": 3.5,
    },
    {
        "name": "Two Way Stop",
        "address": "7207 Nolensville Rd",
        "latitude": 35.96323,
        "longitude": -86.67682,
        "rating": 4,
    },
    {
        "name": "Natchez Trace Market",
        "address": "8456 Hwy 100",
        "latitude": 36.0350177,
        "longitude": -86.97297133,
        "rating": 4.5,
    },
    {
        "name": "ALDI",
        "address": "407 S Lowry St",
        "latitude": 35.971588,
        "longitude": -86.507884,
        "rating": 3,
    },
    {
        "name": "Cook's Star Market",
        "address": "3010 Stewarts Ferry Pike",
        "latitude": 36.1255188,
        "longitude": -86.5184937,
        "rating": 5,
    },
    {
        "name": "Save A Lot",
        "address": "1134 Gallatin Pike S",
        "latitude": 36.250564,
        "longitude": -86.720893,
        "rating": 5,
    },
    {
        "name": "ALDI",
        "address": "640 Robert Rose Dr",
        "latitude": 35.85414415,
        "longitude": -86.43222348,
        "rating": 4,
    },
    {
        "name": "Mi Favorita Supermercado",
        "address": "6317 Charlotte Pike",
        "latitude": 36.14475,
        "longitude": -86.87166,
        "rating": 3,
    },
    {
        "name": "Walmart Supercenter",
        "address": "4424 Lebanon Pike",
        "latitude": 36.21649751,
        "longitude": -86.60079401,
        "rating": 1.5,
    },
    {
        "name": "ALDI",
        "address": "7117 Southpoint Pkwy",
        "latitude": 35.995798,
        "longitude": -86.686932,
        "rating": 3.5,
    },
    {
        "name": "Jamison Market",
        "address": "1974 Wilson Pike",
        "latitude": 35.922088,
        "longitude": -86.766365,
        "rating": 2,
    },
    {
        "name": "Leone Star African Market",
        "address": "459 Bell Rd",
        "latitude": 36.0737687,
        "longitude": -86.6356455,
        "rating": 4,
    },
    {
        "name": "ALDI",
        "address": "3267 Memorial Blvd",
        "latitude": 35.90450489,
        "longitude": -86.38374707,
        "rating": 4.5,
    },
    {
        "name": "ALDI",
        "address": "217 Indian Lake Blvd",
        "latitude": 36.321612,
        "longitude": -86.601602,
        "rating": 3.5,
    },
    {
        "name": "Drew's Market",
        "address": "998 Davidson Dr",
        "latitude": 36.1272446,
        "longitude": -86.9031251,
        "rating": 2.5,
    },
    {
        "name": "Dollar General",
        "address": "7210 Nolensville Rd",
        "latitude": 35.96382,
        "longitude": -86.674614,
        "rating": 1,
    },
    {
        "name": "Smiley's Market",
        "address": "5532 Clarksville Pike",
        "latitude": 36.2808466,
        "longitude": -86.8753624,
        "rating": 2.5,
    },
    {
        "name": "Dollar General",
        "address": "5310 Leanna Road",
        "latitude": 35.93927,
        "longitude": -86.43022,
        "rating": 2.5,
    },
    {
        "name": "Teter's Market",
        "address": "3505 River Rd",
        "latitude": 36.20410538,
        "longitude": -86.9914856,
        "rating": 5,
    },
    {
        "name": "Dollar General",
        "address": "1213 Dickerson Rd",
        "latitude": 36.294444,
        "longitude": -86.730768,
        "rating": 4,
    },
    {
        "name": "Gladeville Smoke Shop",
        "address": "8702 Stewarts Ferry Pike",
        "latitude": 36.11222,
        "longitude": -86.421558,
        "rating": 1,
    },
    {
        "name": "Dollar General",
        "address": "7200 Whites Creek Pike",
        "latitude": 36.318815,
        "longitude": -86.866026,
        "rating": 3.5,
    },
    {
        "name": "Chip's Quik Stop",
        "address": "7250 Whites Creek Pike",
        "latitude": 36.3209381,
        "longitude": -86.867218,
        "rating": 4,
    },
    {
        "name": "Larro's Market",
        "address": "415 Old Nashville Hwy",
        "latitude": 36.00595474,
        "longitude": -86.56580353,
        "rating": 5,
    },
    {
        "name": "DG Market + pOpshelf",
        "address": "4491 Lebanon Pike",
        "latitude": 36.21442413,
        "longitude": -86.59934235,
        "rating": 5,
    },
    {
        "name": "Dollar General",
        "address": "601 Gallatin Ave",
        "latitude": 36.183075,
        "longitude": -86.7485123,
        "rating": 3.5,
    },
    {
        "name": "Dollar General",
        "address": "3852 Dickerson Pike",
        "latitude": 36.2662392,
        "longitude": -86.7572937,
        "rating": 1,
    },
    {
        "name": "Ibex Minimart",
        "address": "455 Bell Rd",
        "latitude": 36.0740623,
        "longitude": -86.6355209,
        "rating": 4,
    },
    {
        "name": "Gordon Food Service GFS",
        "address": "95 Seaboard Ln",
        "latitude": 35.965145,
        "longitude": -86.818542,
        "rating": 4,
    },
    {
        "name": "Fairview Stop & Save Market",
        "address": "2655 Fairview Blvd",
        "latitude": 35.9458885,
        "longitude": -87.1460419,
        "rating": 5,
    },
    {
        "name": "Walmart Neighborhood Market",
        "address": "2478 New Salem Hwy",
        "latitude": 35.814212,
        "longitude": -86.447192,
        "rating": 3,
    },
    {
        "name": "Al Sanabil Bakery & Market",
        "address": "18 E Thompson Ln",
        "latitude": 36.115346,
        "longitude": -86.71992,
        "rating": 3,
    },
    {
        "name": "Dollar General",
        "address": "5501 Clarksville Pike",
        "latitude": 36.27924,
        "longitude": -86.8741,
        "rating": 4,
    },
    {
        "name": "Oriental Food Market",
        "address": "520 S Church St",
        "latitude": 35.84103,
        "longitude": -86.39259,
        "rating": 4,
    },
    {
        "name": "Jr's Foodland",
        "address": "323 E Main St",
        "latitude": 35.84595871,
        "longitude": -86.3878479,
        "rating": 4,
    },
    {
        "name": "Kroger",
        "address": "2325 Memorial Blvd",
        "latitude": 35.886723,
        "longitude": -86.384175,
        "rating": 2.5,
    },
    {
        "name": "Dollar General",
        "address": "1898 Almaville Rd",
        "latitude": 35.931056,
        "longitude": -86.534716,
        "rating": 5,
    },
    {
        "name": "49 Market",
        "address": "4220 Highway 49 W",
        "latitude": 36.4603691,
        "longitude": -86.952858,
        "rating": 1,
    },
    {
        "name": "Save A Lot",
        "address": "5154 Murfreesboro Rd",
        "latitude": 36.019328,
        "longitude": -86.576753,
        "rating": 1,
    },
    {
        "name": "Old Hwy Market",
        "latitude": 36.42931,
        "longitude": -86.81353,
        "rating": 4,
    },
    {
        "name": "Kroger",
        "latitude": 35.93259402,
        "longitude": -86.78877769,
        "rating": 1,
    },
    {
        "name": "Cedar Creek Market",
        "address": "2300 Nonaville Rd",
        "latitude": 36.26235962,
        "longitude": -86.52187347,
        "rating": 3,
    },
    {
        "name": "Rapid Pak",
        "address": "4810 Murfreesboro Rd",
        "latitude": 35.8681412,
        "longitude": -86.7117004,
        "rating": 3.5,
    },
    {
        "name": "Food Lion",
        "address": "564 Nissan Dr",
        "latitude": 35.9850807,
        "longitude": -86.4952698,
        "rating": 5,
    },
    {
        "name": "Publix Super Markets",
        "address": "11207 Lebanon Rd",
        "latitude": 36.2310677,
        "longitude": -86.5137863,
        "rating": 5,
    },
    {
        "name": "Trading Post Market",
        "address": "10412 Old Nashville Hwy",
        "latitude": 35.9482,
        "longitude": -86.50754,
        "rating": 5,
    },
    {
        "name": "Super Suppers",
        "address": "1031 Riverside Dr",
        "latitude": 35.912423,
        "longitude": -86.828359,
        "rating": 4.5,
    },
    {
        "name": "Rollins Drive-In Market & Storage",
        "address": "1200 Old Hickory Blvd",
        "latitude": 36.27239227,
        "longitude": -86.76148987,
        "rating": 4,
    },
    {
        "name": "Dollar General Market",
        "address": "301 E Thompson Ln",
        "latitude": 36.12584876,
        "longitude": -86.7138918,
        "rating": 4,
    },
    {
        "name": "Sphinx Restaurant & Discount Tobacco Market",
        "address": "1094 Murfreesboro Pike",
        "latitude": 36.1270117,
        "longitude": -86.7111418,
        "rating": 4,
    },
    {
        "name": "Lanexang Oriental Market",
        "address": "212 Thompson Ln",
        "latitude": 36.111283,
        "longitude": -86.741288,
        "rating": 4,
    },
    {
        "name": "Publix Pharmacy",
        "address": "2020 Fieldstone Pkwy",
        "latitude": 35.96448898,
        "longitude": -86.88340759,
        "rating": 3,
    },
    {
        "name": "Laolanexang Oriental Enterprises",
        "address": "2861 Logan St",
        "latitude": 36.1117462,
        "longitude": -86.7418924,
        "rating": 3.5,
    },
    {
        "name": "Dollar General",
        "address": "7107 Highway 70 S",
        "latitude": 36.07349396,
        "longitude": -86.92260742,
        "rating": 3,
    },
    {
        "name": "Dollar General",
        "address": "1461 Bell Rd",
        "latitude": 36.04516983,
        "longitude": -86.6873703,
        "rating": 3.5,
    },
    {
        "name": "The Grill at Green Hills - Whole Foods Grill",
        "address": "4021 Hillsboro Pike",
        "latitude": 36.103429,
        "longitude": -86.8190653,
        "rating": 3.5,
    },
    {
        "name": "Dollar General",
        "address": "3776 Nolensville Rd",
        "latitude": 36.08849,
        "longitude": -86.73172,
        "rating": 2,
    },
    {
        "name": "Publix",
        "address": "211 Maharris Dr",
        "latitude": 36.36471885,
        "longitude": -86.44249203,
        "rating": 4,
    },
    {
        "name": "Dollar General",
        "address": "6009 Charlotte Pike",
        "latitude": 36.12306349,
        "longitude": -86.91212787,
        "rating": 4.5,
    },
    {
        "name": "Kwik Mart",
        "address": "230 Thompson Ln",
        "latitude": 36.11091557,
        "longitude": -86.74224291,
        "rating": 5,
    },
    {
        "name": "DG Market",
        "address": "2259 Highway 41 S",
        "latitude": 36.44216115,
        "longitude": -86.8115629,
        "rating": 5,
    },
    {
        "name": "Las-Americas Market",
        "address": "4715 Nolensville Pike",
        "latitude": 36.06732941,
        "longitude": -86.71906281,
        "rating": 5,
    },
    {
        "name": "Super Mercado Latina",
        "address": "4539 Nolensville Pike",
        "latitude": 36.0699615,
        "longitude": -86.7226486,
        "rating": 3,
    },
    {
        "name": "Mekong Market",
        "address": "949 Richards Rd",
        "latitude": 36.06956,
        "longitude": -86.68259,
        "rating": 3,
    },
    {
        "name": "Kwik Sak",
        "address": "520 Waldron Rd",
        "latitude": 35.99880219,
        "longitude": -86.59713745,
        "rating": 2.5,
    },
    {
        "name": "Richard & Betty Reed Produce Market",
        "address": "342 4th Ave N",
        "latitude": 35.9290085,
        "longitude": -86.8731308,
        "rating": 5,
    },
    {
        "name": "Best Stop",
        "address": "3420 Lebanon Pike",
        "latitude": 36.18961,
        "longitude": -86.62854,
        "rating": 3,
    },
    {
        "name": "Associated Wholesale Grocers",
        "address": "500 S Cartwright St",
        "latitude": 36.32100482,
        "longitude": -86.70484146,
        "rating": 2,
    },
    {
        "name": "Dollar General",
        "address": "2403 Lebanon Pike",
        "latitude": 36.1689491,
        "longitude": -86.6821442,
        "rating": 3,
    },
    {
        "name": "Mi Placita Mexican Grocery",
        "address": "1225 Columbia Ave",
        "latitude": 35.9156685,
        "longitude": -86.8730774,
        "rating": 4,
    },
    {
        "name": "40th Avenue Market",
        "address": "925 40th Ave N",
        "latitude": 36.161,
        "longitude": -86.83639,
        "rating": 1,
    },
    {
        "name": "Dollar General",
        "address": "7507 Old Clarksville Pike",
        "latitude": 36.330527,
        "longitude": -86.960146,
        "rating": 3.5,
    },
    {
        "name": "Dollar General",
        "address": "7605 Hwy. 41A",
        "latitude": 36.442676,
        "longitude": -87.10281,
        "rating": 2.5,
    },
    {
        "name": "El Parasio Supermercado Y Carniceria",
        "address": "301 Gallatin Pike S",
        "latitude": 36.2601471,
        "longitude": -86.7127686,
        "rating": 4,
    },
    {
        "name": "Mapco Express 3200",
        "address": "1302 Neelys Bend Rd",
        "latitude": 36.2399598,
        "longitude": -86.6727459,
        "rating": 4.5,
    },
    {
        "name": "Walmart Supercenter",
        "address": "2012 Memorial Blvd",
        "latitude": 35.879093,
        "longitude": -86.383153,
        "rating": 2,
    },
    {
        "name": "Dollar General",
        "address": "298 Sam Ridley Pkwy E",
        "latitude": 35.996012,
        "longitude": -86.497829,
        "rating": 1,
    },
    {
        "name": "Dollar General",
        "address": "2174 Gallatin Pike N",
        "latitude": 36.305611,
        "longitude": -86.690305,
        "rating": 5,
    },
    {
        "name": "Dollar General",
        "address": "415 West Trinity Ln",
        "latitude": 36.208705,
        "longitude": -86.785784,
        "rating": 1,
    },
    {
        "name": "Inglewood Drive-In Market",
        "address": "3212 Gallatin Pike",
        "latitude": 36.2069016,
        "longitude": -86.7354202,
        "rating": 1,
    },
    {
        "name": "Kroger",
        "address": "250 Williamson Sq",
        "latitude": 35.9175224,
        "longitude": -86.8362656,
        "rating": 1.5,
    },
    {
        "name": "Mercados Marias",
        "address": "264 Heritage Park Dr",
        "latitude": 35.8731918,
        "longitude": -86.3908386,
        "rating": 3,
    },
    {
        "name": "Carniceria Dominguez",
        "address": "2569 Murfreesboro Pike",
        "latitude": 36.0761183,
        "longitude": -86.6403494,
        "rating": 3.5,
    },
    {
        "name": "BJ's Wholesale Club",
        "address": "181 Adams Ln",
        "latitude": 36.168142,
        "longitude": -86.520374,
        "rating": 2,
    },
    {
        "name": "L & E Market",
        "address": "606 Millwood Dr",
        "latitude": 36.12994003,
        "longitude": -86.71360016,
        "rating": 1,
    },
    {
        "name": "NW Broad Shell",
        "address": "2125 NW Broad St",
        "latitude": 35.8790454,
        "longitude": -86.42801876,
        "rating": 5,
    },
    {
        "name": "Bread Box Food Store # 131",
        "address": "100 Nokes Dr",
        "latitude": 36.2955145,
        "longitude": -86.6213865,
        "rating": 2,
    },
    {
        "name": "Dollar General",
        "address": "1010 Sams Creek Rd",
        "latitude": 36.228577,
        "longitude": -87.048232,
        "rating": 1,
    },
    {
        "name": "Dollar General",
        "address": "3288 S Mount Juliet Rd",
        "latitude": 36.124699,
        "longitude": -86.519637,
        "rating": 1,
    },
    {
        "name": "Dollar General",
        "address": "670 Stones River Rd",
        "latitude": 36.048396,
        "longitude": -86.55648,
        "rating": 1,
    },
    {
        "name": "Dollar General",
        "address": "2724 Murfreesboro Pike",
        "latitude": 36.06932,
        "longitude": -86.63264,
        "rating": 1,
    },
    {
        "name": "Dollar General",
        "address": "3006 Gallatin Pike",
        "latitude": 36.2036209,
        "longitude": -86.738327,
        "rating": 3,
    },
    {
        "name": "Dollar General",
        "address": "227 Cason Ln",
        "latitude": 35.84300232,
        "longitude": -86.43997192,
        "rating": 2,
    },
    {
        "name": "Dollar General",
        "address": "3926 Lebanon Pike",
        "latitude": 36.1944504,
        "longitude": -86.6226654,
        "rating": 1,
    },
    {
        "name": "Dollar General",
        "address": "120 W. Kingston Springs Rd",
        "latitude": 36.086863,
        "longitude": -87.101963,
        "rating": 1.5,
    },
    {
        "name": "ALDI",
        "address": "5109 Franklin Rd",
        "latitude": 35.84353844,
        "longitude": -86.48521642,
        "rating": 1,
    },
    {
        "name": "Huff's Grocery",
        "latitude": 35.81719971,
        "longitude": -86.98126221,
        "rating": 3,
    },
    {
        "name": "Dollar General Market",
        "address": "287 New Shackle Island Rd",
        "latitude": 36.320105,
        "longitude": -86.624403,
        "rating": 2,
    },
    {
        "name": "Dollar General",
        "address": "8702 Stewarts Ferry Pike #101",
        "latitude": 36.112218,
        "longitude": -86.421569,
        "rating": 2,
    },
    {
        "name": "Dollar General",
        "address": "5152 Murfreesboro Rd",
        "latitude": 36.0199586,
        "longitude": -86.5768476,
        "rating": 2,
    },
    {
        "name": "Dollar General",
        "address": "315 N Main St",
        "latitude": 36.3254166,
        "longitude": -86.7137222,
        "rating": 2.5,
    },
    {
        "name": "Dollar General",
        "address": "1229 N Mount Juliet Rd",
        "latitude": 36.18889,
        "longitude": -86.51181,
        "rating": 2,
    },
    {
        "name": "Dollar General",
        "address": "352 W Northfield Blvd",
        "latitude": 35.872205,
        "longitude": -86.389641,
        "rating": 1,
    },
    {
        "name": "Food Lion",
        "address": "250 Country Village Dr",
        "latitude": 35.9570313,
        "longitude": -86.5226212,
        "rating": 5,
    },
    {
        "name": "Dollar General",
        "address": "311 Martingale Dr",
        "latitude": 36.25729752,
        "longitude": -86.65805817,
        "rating": 3.5,
    },
    {
        "name": "Dollar General",
        "address": "280 Nonaville Rd",
        "latitude": 36.2345,
        "longitude": -86.52962,
        "rating": 1,
    },
    {
        "name": "Dollar General",
        "address": "2391 Fairview Blvd",
        "latitude": 35.962285,
        "longitude": -87.134729,
        "rating": 2.5,
    },
    {
        "name": "Dollar General",
        "address": "211 W Main St",
        "latitude": 36.3048973,
        "longitude": -86.6193314,
        "rating": 4,
    },
    {
        "name": "Dollar General",
        "address": "2011 Se Broad St",
        "latitude": 35.81340858,
        "longitude": -86.37007213,
        "rating": 4,
    },
    {
        "name": "Dollar General",
        "address": "635 Medical Center Parkway",
        "latitude": 35.855128,
        "longitude": -86.3986,
        "rating": 5,
    },
    {
        "name": "Dollar General",
        "address": "595 Hillsboro Rd",
        "latitude": 35.93241763,
        "longitude": -86.88005535,
        "rating": 1,
    },
    {
        "name": "Burnett's Marathon",
        "address": "1279 Jackson Felts Rd",
        "latitude": 36.34624,
        "longitude": -86.934634,
        "rating": 3.5,
    },
    {
        "name": "Jingo Market",
        "address": "2431 Fairview Blvd",
        "latitude": 35.9598618,
        "longitude": -87.1367035,
        "rating": 4,
    },
    {
        "name": "Save A Lot",
        "address": "750 Jessica St",
        "latitude": 35.8335419,
        "longitude": -86.3772583,
        "rating": 2.5,
    },
    {
        "name": "Curtis Cross Roads Market",
        "address": "150 Curtis Crossroads",
        "latitude": 36.26102,
        "longitude": -86.6208,
        "rating": 1,
    },
    {
        "name": "Stop N Buy",
        "address": "240 Sanders Ferry Rd",
        "latitude": 36.28645,
        "longitude": -86.60882,
        "rating": 1,
    },
    {
        "name": "Mapco Express 3308",
        "address": "1311 Murfreesboro Rd",
        "latitude": 35.91542435,
        "longitude": -86.82726288,
        "rating": 1,
    },
    {
        "name": "Dollar General",
        "address": "14048 Old Nashville Hwy",
        "latitude": 35.984703,
        "longitude": -86.545796,
        "rating": 1,
    },
    {
        "name": "Bp Oil",
        "address": "1320 Memorial Blvd",
        "latitude": 35.86148573,
        "longitude": -86.39014095,
        "rating": 3,
    },
];
/*
// Initialize the map
var map = L.map('map').setView([36.1627, -86.7816], 10);

// Add a tile layer to the map (you can choose a different tile provider)
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: ' OpenStreetMap contributors'
}).addTo(map);

});*/
function getColor(rating) {
  if (rating >= 4.5) {
    return 'green';
  } else if (rating >= 4) {
    return 'lime';
  } else if (rating >= 3.5) {
    return 'yellow';
  } else if (rating >= 3) {
    return 'orange';
  } else {
    return 'red';
  }
}

var layers = {};

// Add markers to the map based on rating
locations.forEach(function (location) {
  var marker = L.marker([location.latitude, location.longitude], {
    icon: L.divIcon({
      className: 'leaflet-div-icon',
      html: '<i style="color:' + getColor(location.rating) + '; font-size: 18px;">&#9679;</i>',
      iconSize: [36, 36], // Adjust the size here
      iconAnchor: [18, 18] // Center the marker on the specified anchor
    })
  });

  // Create a popup for each marker
  var popupContent = `<b>${location.name}</b><br>Address: ${location.address}<br>Rating: ${location.rating}`;
  marker.bindPopup(popupContent);

  // Check if the layer exists, if not, create one
  if (!layers[location.rating]) {
    layers[location.rating] = L.layerGroup().addTo(Map);
  }

  // Add the marker to the respective rating layer
  layers[location.rating].addLayer(marker);
});



// Create a custom control for the map and satellite toggle
var mapToggleControl = L.control({ position: 'topright' });




// Add control to toggle map and satellite views
mapToggleControl.addTo(Map);

// Create layers control for rating layers
var ratingLayersControl = L.control.layers(null, layers, { collapsed: false }).addTo(Map);
